"use strict";(self.webpackChunkgemis=self.webpackChunkgemis||[]).push([[166],{9166:(ge,_,p)=>{p.r(_),p.d(_,{AlmacenModule:()=>pe});var c=p(8583),m=p(4330),i=p(665),d=p(8239),e=p(7716),f=p(7270),v=p(1841);let T=(()=>{class o{constructor(t){this.http=t}Obtener_Pedidos(){return this.http.get("http://localhost:7000/api/pedidos")}ObtenerPedidosPromise(){var t=this;return(0,d.Z)(function*(){return(yield t.http.get("http://localhost:7000/api/pedidos").toPromise()).data})()}Grabar_Pedidos(t){return this.http.post("http://localhost:7000/api/pedidos",t)}generaPedido(t){return this.http.post("http://localhost:7000/api/pedidos/generar-pedido",t).toPromise()}Actualiza_Pedidos(t){return this.http.put(`http://localhost:7000/api/pedidos/${t.id}`,t)}Borra_Pedidos(t){return this.http.delete(`http://localhost:7000/api/pedidos-maestro/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=p(8347),u=p(5693);function b(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.descripcion)}}function x(o,r){1&o&&(e.TgZ(0,"small",21),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function U(o,r){1&o&&(e.TgZ(0,"td"),e._UZ(1,"img",25),e.qZA())}function C(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,U,2,0,"td",22),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"img",23),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return[s.idplanes=l.planId,s.cantidad=l.pedido_cantidad,s.idpedido=l.id,s.obtenerPlan(),s.obtenerPlandetallesxid(),s.guardarOrdentrabajo(l)]}),e.qZA(),e.qZA(),e.TgZ(19,"td"),e.TgZ(20,"img",24),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return[s.idpedido=l.id,s.Borrar_pedidos()]}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.planId),e.xp6(2),e.Oqu(t.articuloId),e.xp6(2),e.Oqu(t.articulo.clave),e.xp6(2),e.Oqu(t.articulo.descripcion),e.xp6(1),e.Q6J("ngIf",0==t.pedido_autorizado),e.xp6(2),e.Oqu(t.pedido_cantidad),e.xp6(2),e.Oqu(e.xi3(16,8,t.pedido_fecha,"dd/MM/yyyy"))}}let F=(()=>{class o{constructor(t,a,n,l,s,Z,me){this.fb=t,this.articulosService=a,this.pedidosService=n,this.plandetalleService=l,this.planesService=s,this.conexion=Z,this.modalService=me,this.plandetalle=[],this.planes=[],this.articulos=[],this.Lospedidos=[],this.descuentito=0,this.idpedido=0,this.idplanes=0,this.cantidad=0,this.PedidoFormGroup=this.fb.group({selectarticulo:[null,[i.kI.required]],cantidad:[null,[i.kI.required,i.kI.minLength(1)]]})}ngOnInit(){this.obtenerArticulos(),this.Lista_Pedidos(),this.obtenerTodosplanes()}get cantidadNoValido(){var t,a;return(null===(t=this.PedidoFormGroup.get("cantidad"))||void 0===t?void 0:t.invalid)&&(null===(a=this.PedidoFormGroup.get("cantidad"))||void 0===a?void 0:a.touched)}obtenerArticulos(){var t=this;return(0,d.Z)(function*(){t.articulos=yield t.articulosService.ObtenerArticulosPromise()})()}obtenerTodosplanes(){var t=this;return(0,d.Z)(function*(){t.planes=yield t.planesService.obtenerPlanes()})()}obtenerPlan(){var t=this;return(0,d.Z)(function*(){const a=yield t.planesService.obtenerPlanPorId(t.idplanes);console.log("este el el idplan para filtrar",t.idplanes),console.log("este el el plan filtrado",a)})()}obtenerPlandetallesxid(){var t=this;return(0,d.Z)(function*(){const a=yield t.planesService.obtenerPlanDetallexid(t.idplanes);console.log("este el el idplan para filtrar",t.idplanes),console.log("este el el plandetalle filtrado",a)})()}agregarArticulo(){this.PedidoFormGroup.valid?console.log("si entro"):console.log("no puedo enttrar------------------------------------")}Lista_Pedidos(){this.pedidosService.Obtener_Pedidos().subscribe(t=>{this.Lospedidos=t.data,console.log("esta es la lista de pedidos",t)})}guardar(){if(this.PedidoFormGroup.valid){const t=this.PedidoFormGroup.value.selectarticulo,a={id:0,planId:t.id,articuloId:t.articulo.id,pedido_cantidad:this.PedidoFormGroup.value.cantidad,pedido_autorizado:!1,pedido_fecha:new Date};console.log("ESTE ES EL ARREGLO DEL BODY",a),console.log("este es el arreglo de pedidos-------------------------\x3e",a),console.log("------------\x3eformulario",this.PedidoFormGroup.value),this.pedidosService.Grabar_Pedidos(a).subscribe(n=>{console.log("Estos son los campos que se van grabar",n),console.log("Este es el arreglo del selectarticulo",this.PedidoFormGroup.value.selectarticulo),this.Lista_Pedidos()})}}guardarOrdentrabajo(t){const a=t,n={id:0,planId:a.planId,articuloId:a.articuloId,orden_decripcion:a.articulo.descripcion,orden_cantidad:a.pedido_cantidad,orden_fechaini:new Date,orden_fechafin:new Date,orden_recibida:!1,updatedAt:new Date,createdAt:new Date,pedidosMaestroId:a.id};console.log("ESTE ES EL ARREGLO DEL BODY*******************",n),console.log("este es el arreglo de pedidos-------------------------\x3e",n),this.planesService.Grabar_Ordenes(n).subscribe(l=>{console.log("Estos son los campos que se van grabar*****************",n),console.log("Este es el arreglo del selectarticulo",this.PedidoFormGroup.value.selectarticulo),this.Lista_Pedidos()})}Borrar_pedidos(){this.pedidosService.Borra_Pedidos(this.idpedido).subscribe(t=>{console.log("Estos son los campos que se van grabar",t),this.Lista_Pedidos()})}Filtra_planes(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(f.N),e.Y36(T),e.Y36(g.f),e.Y36(g.f),e.Y36(g.f),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pedidos"]],decls:52,vars:7,consts:[[1,"container","mt-3"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","exampleInputUsername1",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],[1,"input-group"],["formControlName","selectarticulo",1,"form-control"],["selected","","disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-3","col-form-label"],[1,"col-8"],["type","number","placeholder","Cantidad","formControlName","cantidad",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-2","col-form-label"],[1,"input-group","col"],["type","submit",1,"btn","btn-outline-primary","btn-block"],[1,"mt-3"],[1,"text-center"],[1,"table"],[4,"ngFor","ngForOf"],[3,"ngValue"],[1,"text-danger"],[4,"ngIf"],["src","/assets/imagenes/candado_a.png","width","20px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"],["src","/assets/imagenes/borrar.png","width","20px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"],["src","/assets/imagenes/candado2.png","width","20px","data-toggle","modal","data-target","#exampleModal"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"pedidos works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return a.guardar()}),e.TgZ(4,"div",2),e.TgZ(5,"label",3),e._uU(6,"Selecciona Articulo"),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"select",6),e.TgZ(10,"option",7),e._uU(11,"Articulo a Manufacturar"),e.qZA(),e.YNc(12,b,2,2,"option",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",2),e.TgZ(14,"label",9),e._uU(15,"Cantidad"),e.qZA(),e.TgZ(16,"div",10),e._UZ(17,"input",11),e.YNc(18,x,2,0,"small",12),e.qZA(),e.qZA(),e.TgZ(19,"div",2),e.TgZ(20,"label",13),e._uU(21,"\xa0"),e.qZA(),e.TgZ(22,"div",14),e.TgZ(23,"button",15),e._uU(24," + A\xf1adir Nueva Orden de Manufactura "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",16),e.TgZ(26,"h6",17),e._uU(27,"Articulos"),e.qZA(),e.TgZ(28,"table",18),e.TgZ(29,"thead"),e.TgZ(30,"th"),e._uU(31," Orden Manufactura "),e.qZA(),e.TgZ(32,"th"),e._uU(33," Plan "),e.qZA(),e.TgZ(34,"th"),e._uU(35," Artiuclo Id "),e.qZA(),e.TgZ(36,"th"),e._uU(37," Clave "),e.qZA(),e.TgZ(38,"th"),e._uU(39," Descripcion"),e.qZA(),e.TgZ(40,"th"),e._uU(41," Autorizada"),e.qZA(),e.TgZ(42,"th"),e._uU(43," Cantidad"),e.qZA(),e.TgZ(44,"th"),e._uU(45," Fecha"),e.qZA(),e.TgZ(46,"th"),e._uU(47," Autorizar"),e.qZA(),e.TgZ(48,"th"),e._uU(49," Borrar"),e.qZA(),e.qZA(),e.TgZ(50,"tbody"),e.YNc(51,C,21,11,"tr",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",a.PedidoFormGroup),e.xp6(7),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",a.planes),e.xp6(5),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(33),e.Q6J("ngForOf",a.Lospedidos))},directives:[i._Y,i.JL,i.sg,i.EJ,i.JJ,i.u,i.YN,i.Kr,c.sg,i.wV,i.Fj,c.O5],pipes:[c.uU],styles:[""]}),o})(),h=(()=>{class o{constructor(t){this.http=t}obtenerListadoalmacen(){var t=this;return(0,d.Z)(function*(){return(yield t.http.get("http://localhost:7000/api/almacenpt-ordxinv").toPromise()).data})()}obtenerMovialmacen(){var t=this;return(0,d.Z)(function*(){return(yield t.http.get("http://localhost:7000/api/movialmacen").toPromise()).data})()}obtenerAlmcenmovimientos(){var t=this;return(0,d.Z)(function*(){return(yield t.http.get("http://localhost:7000/api/almacen-movimientos").toPromise()).data})()}ObtenerEntradasdesde(t,a){var n=this;return(0,d.Z)(function*(){return(yield n.http.get(`http://localhost:7000/api/entradas-desde/${t}/${a}`).toPromise()).data})()}ObtenerSalidasdesde(t,a){var n=this;return(0,d.Z)(function*(){return(yield n.http.get(`http://localhost:7000/api/salidas-desde/${t}/${a}`).toPromise()).data})()}obtenerMovialmacenxId(t){var a=this;return(0,d.Z)(function*(){return(yield a.http.get(`http://localhost:7000/api/movialmacen/id/${t}`).toPromise()).data})()}obtenerTipomovialmacen(){var t=this;return(0,d.Z)(function*(){return(yield t.http.get("http://localhost:7000/api/tipomovimientos-almacen").toPromise()).data})()}Grabar_Movialmacen(t){return this.http.post("http://localhost:7000/api/recepcion-material",t)}Grabar_Salidaxvta(t){return this.http.post("http://localhost:7000/api/salidaxvta",t)}Actualiza_Anaqueles(t){return this.http.put("http://localhost:7000/api/actualiza-anaqueles",t)}Actualiza_Invfisicoxcierre(t){return this.http.put("http://localhost:7000/api/actualiza-invfisicoxcierre",t)}Genera_Cierre(t){return this.http.post("http://localhost:7000/api/almacen/generar-cierre",t)}Actualiza_inventarios(){return this.http.get("http://localhost:7000/api/almacen/actualiza-inventarios")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function N(o,r){1&o&&(e.TgZ(0,"small",18),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function y(o,r){1&o&&(e.TgZ(0,"small",18),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function k(o,r){1&o&&(e.TgZ(0,"small",18),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function I(o,r){1&o&&(e.TgZ(0,"small",18),e._uU(1," Debe de ser numerico "),e.qZA())}function O(o,r){1&o&&(e.TgZ(0,"small",18),e._uU(1," Debe de ser numerico "),e.qZA())}let P=(()=>{class o{constructor(t,a,n,l,s,Z){this.activeModal=t,this.fm=a,this.router=n,this.conexion=l,this.conexion2=s,this.modalService=Z,this.Materiales=[],this.entraxmanuFormGroup=this.fm.group({id:[null],ordmanufactura:[null,[i.kI.required]],descripcion:[null,[i.kI.required]],cantidadreal:[null,[i.kI.required]],cantidadorden:[null,[i.kI.required]],articuloid:[null,[i.kI.required]]})}Lista_Ordenestrabajo(){this.conexion.Obtener_Ordenestrabajo().subscribe(t=>{this.Materiales=t.data,console.log("esta es el array",t)})}ngOnInit(){console.log("Estas son las lineas",this.Orden),this.editarMaterial(this.Orden),this.Lista_Ordenestrabajo()}editarMaterial(t){console.log(t.id),this.entraxmanuFormGroup.controls.id.setValue(t.id),this.entraxmanuFormGroup.controls.ordmanufactura.setValue(t.id),this.entraxmanuFormGroup.controls.descripcion.setValue(t.orden_decripcion),this.entraxmanuFormGroup.controls.cantidadorden.setValue(t.orden_cantidad),this.entraxmanuFormGroup.controls.articuloid.setValue(t.articuloId)}get descripNoValido(){var t,a;return(null===(t=this.entraxmanuFormGroup.get("descripcion"))||void 0===t?void 0:t.invalid)&&(null===(a=this.entraxmanuFormGroup.get("descripcion"))||void 0===a?void 0:a.touched)}get cantidadNoValido(){var t,a;return(null===(t=this.entraxmanuFormGroup.get("cantidadorden"))||void 0===t?void 0:t.invalid)&&(null===(a=this.entraxmanuFormGroup.get("cantidadorden"))||void 0===a?void 0:a.touched)}get cantidadrealNoValido(){var t,a;return(null===(t=this.entraxmanuFormGroup.get("cantidadreal"))||void 0===t?void 0:t.invalid)&&(null===(a=this.entraxmanuFormGroup.get("cantidadreal"))||void 0===a?void 0:a.touched)}get idNoValido(){var t,a;return(null===(t=this.entraxmanuFormGroup.get("articuloid"))||void 0===t?void 0:t.invalid)&&(null===(a=this.entraxmanuFormGroup.get("articuloid"))||void 0===a?void 0:a.touched)}recibirMaterial(){if(this.entraxmanuFormGroup.invalid)return Object.values(this.entraxmanuFormGroup.controls).forEach(t=>{t instanceof i.cw?Object.values(t.controls).forEach(a=>a.markAsTouched()):t.markAsTouched()});this.conexion2.Grabar_Movialmacen(this.entraxmanuFormGroup.value).subscribe(t=>{t.ok&&(console.log("cambiado"),this.activeModal.close()),this.entraxmanuFormGroup.reset()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.Kz),e.Y36(i.qu),e.Y36(m.gz),e.Y36(g.f),e.Y36(h),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-entraxmanufactura"]],inputs:{Orden:"Orden"},decls:49,vars:16,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col-8"],["type","text","placeholder","Orden Manufactura","formControlName","ordmanufactura",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Id del Articulo","formControlName","articuloid",1,"form-control"],["type","text","placeholder","Descripcion","formControlName","descripcion",1,"form-control"],["type","number","placeholder","Cantidad de la Orden","formControlName","cantidadorden",1,"form-control"],["type","number","placeholder","Cantidad real","formControlName","cantidadreal",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-entraxmanufactura works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h5",1),e._uU(4,"Actualizar Entrada Al Almacen por Orden de Manufactura"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.activeModal.dismiss()}),e.TgZ(6,"span",3),e._uU(7,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"form",5),e.NdJ("ngSubmit",function(){return a.recibirMaterial()}),e.TgZ(10,"div"),e._UZ(11,"p"),e.TgZ(12,"div",6),e.TgZ(13,"label",7),e._uU(14,"Orden de Manufactura"),e.qZA(),e.TgZ(15,"div",8),e._UZ(16,"input",9),e.YNc(17,N,2,0,"small",10),e.qZA(),e.qZA(),e._UZ(18,"p"),e.TgZ(19,"div",6),e.TgZ(20,"label",7),e._uU(21,"Id Articulo"),e.qZA(),e.TgZ(22,"div",8),e._UZ(23,"input",11),e.YNc(24,y,2,0,"small",10),e.qZA(),e.qZA(),e._UZ(25,"p"),e.TgZ(26,"div",6),e.TgZ(27,"label",7),e._uU(28,"Descripcion"),e.qZA(),e.TgZ(29,"div",8),e._UZ(30,"input",12),e.YNc(31,k,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(32,"div",6),e.TgZ(33,"label",7),e._uU(34,"Cantidad en la Orden"),e.qZA(),e.TgZ(35,"div",8),e._UZ(36,"input",13),e.YNc(37,I,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(38,"div",6),e.TgZ(39,"label",7),e._uU(40,"Cantidad Real recibida"),e.qZA(),e.TgZ(41,"div",8),e._UZ(42,"input",14),e.YNc(43,O,2,0,"small",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",15),e.TgZ(45,"button",16),e.NdJ("click",function(){return a.activeModal.dismiss()}),e._uU(46,"Close"),e.qZA(),e.TgZ(47,"button",17),e.NdJ("click",function(){return a.recibirMaterial()}),e._uU(48,"Recibir Articulos"),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.entraxmanuFormGroup),e.xp6(7),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(6),e.ekj("is-invalid",a.idNoValido),e.xp6(1),e.Q6J("ngIf",a.idNoValido),e.xp6(6),e.ekj("is-invalid",a.descripNoValido),e.xp6(1),e.Q6J("ngIf",a.descripNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadrealNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadrealNoValido))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,c.O5,i.wV],styles:[""]}),o})(),L=(()=>{class o{transform(t,a){return a?t.filter(n=>this.filterBy(n,a)):t}filterBy(t,a){return Object.keys(t).reduce((l,s)=>this.reduceKeys(l,s,t),"").toLocaleLowerCase().indexOf(a.toLocaleLowerCase())>-1}reduceKeys(t,a,n){return this.isProp(a)&&(t=`${t}$${n[a]}`),t}isProp(t){return t.includes("id")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"ordentrabajosFilter",type:o,pure:!0}),o})();function M(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",12),e.TgZ(13,"img",13),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return[s.idlinea=l.id,s.openModalUpdateTipomovimientos(l)]}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.articuloId),e.xp6(2),e.Oqu(t.orden_decripcion),e.xp6(2),e.Oqu(t.orden_cantidad),e.xp6(2),e.Oqu(e.xi3(11,5,t.createdAt,"dd/MM/yyyy"))}}let J=(()=>{class o{constructor(t,a,n,l,s){this.fb=t,this.conexion=n,this.ordenesService=l,this.modalService=s,this.Ordenes=[],this.ordenes=[],this.Articuloslincatego=[],this.Lineas=[],this.Categorias=[],this.seleccionado="Elije una linea",this.idlinea=0,this.search="",this.valorradio=10,this.formentrxmanuf=this.fb.group({factor:[null,[i.kI.required]],flexRadioDefault:[null],bandera:[null,[i.kI.required]]}),this.modal=this.fb.group({descripcion2:[null,[i.kI.required]]}),this.crearFormulario(),this.cargarDataAlFormulario()}obtenerordenes(){var t=this;return(0,d.Z)(function*(){t.ordenes=yield t.ordenesService.obtenerOrdenestrabajo()})()}ngOnInit(){this.obtenerordenes()}get factorNoValido(){var t,a;return(null===(t=this.formentrxmanuf.get("factor"))||void 0===t?void 0:t.invalid)&&(null===(a=this.formentrxmanuf.get("factor"))||void 0===a?void 0:a.touched)}get banderaNoValido(){var t,a;return(null===(t=this.formentrxmanuf.get("bandera"))||void 0===t?void 0:t.invalid)&&(null===(a=this.formentrxmanuf.get("bandera"))||void 0===a?void 0:a.touched)}openModalUpdateTipomovimientos(t){var a=this;console.log("Estos son los datos que viene del articulo",t);const n=this.modalService.open(P,{size:"lg"});n.componentInstance.Orden=t,n.result.then((0,d.Z)(function*(){yield a.obtenerordenes()})),this.obtenerordenes()}crearFormulario(){this.formentrxmanuf=this.fb.group({factor:[null,[i.kI.required]],flexRadioDefault:[null],bandera:[null,[i.kI.required,i.kI.min(1)]]})}cargarDataAlFormulario(){this.formentrxmanuf.reset({factor:"",flexRadioDefault:[null],bandera:[null,[i.kI.required,i.kI.min(1)]]})}guardar(){console.log("Probando que entra   a funciones")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.gz),e.Y36(g.f),e.Y36(g.f),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-entraxmanufactura"]],decls:34,vars:6,consts:[[1,"container","mt-2"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","mt-5","mb-3"],[1,"col-md-12"],["for","ciudad",1,"col-form-label"],["src","/assets/imagenes/buscar.png","width","20px","height","20px"],["type","text","id","searchForm","placeholder","Busca aqui...",1,"form-control","rounded-sm",3,"ngModel","ngModelChange"],[1,"container","mt-3"],[1,"row"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],["src","/assets/imagenes/recibir.jpg","width","40px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"entraxmanufactura works!"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0),e.TgZ(4,"form",1),e.NdJ("ngSubmit",function(){return a.guardar()}),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"label",4),e._uU(8,"Buscar Orden de Trabajo.. "),e._UZ(9,"img",5),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(l){return a.search=l}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e.TgZ(14,"div",3),e.TgZ(15,"table",9),e.TgZ(16,"thead"),e.TgZ(17,"tr"),e.TgZ(18,"th",10),e._uU(19,"Orden Trabajo"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"Articulo Id"),e.qZA(),e.TgZ(22,"th",10),e._uU(23,"Descripcion"),e.qZA(),e.TgZ(24,"th",10),e._uU(25,"Cantidad"),e.qZA(),e.TgZ(26,"th",10),e._uU(27,"Fecha de Creacion"),e.qZA(),e.TgZ(28,"th",10),e._uU(29,"Recibir Mercancia"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,M,14,8,"tr",11),e.ALo(32,"ordentrabajosFilter"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(33,"hr")),2&t&&(e.xp6(4),e.Q6J("formGroup",a.formentrxmanuf),e.xp6(7),e.Q6J("ngModel",a.search),e.xp6(20),e.Q6J("ngForOf",e.xi3(32,3,a.ordenes,a.search)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.On,c.sg],pipes:[L,c.uU],styles:[""]}),o})();function G(o,r){1&o&&(e.TgZ(0,"small",19),e._uU(1," Ingrese item por lo menos de 5 Letras "),e.qZA())}function S(o,r){1&o&&(e.TgZ(0,"small",19),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function Y(o,r){1&o&&(e.TgZ(0,"small",19),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function E(o,r){1&o&&(e.TgZ(0,"small",19),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function V(o,r){1&o&&(e.TgZ(0,"small",19),e._uU(1," Debe de ser numerico "),e.qZA())}function j(o,r){1&o&&(e.TgZ(0,"small",19),e._uU(1," Debe de ser numerico "),e.qZA())}let w=(()=>{class o{constructor(t,a,n,l,s,Z){this.activeModal=t,this.fm=a,this.router=n,this.conexion=l,this.conexion2=s,this.modalService=Z,this.Materiales=[],this.salidaxvtaFormGroup=this.fm.group({id:[null],item:[null,[i.kI.required]],notaventa:[null,[i.kI.required]],descripcion:[null,[i.kI.required]],cantidadreal:[null,[i.kI.required]],cantidadorden:[null,[i.kI.required]],articuloid:[null,[i.kI.required]]})}Lista_Ordenestrabajo(){this.conexion.Obtener_Ordenestrabajo().subscribe(t=>{this.Materiales=t.data,console.log("esta es el array",t)})}ngOnInit(){console.log("Estas son las lineas",this.Nota),this.editarMaterial(this.Nota),this.Lista_Ordenestrabajo()}editarMaterial(t){console.log(t.id),this.salidaxvtaFormGroup.controls.id.setValue(t.id),this.salidaxvtaFormGroup.controls.item.setValue(t.id),this.salidaxvtaFormGroup.controls.notaventa.setValue(t.ventaId),this.salidaxvtaFormGroup.controls.descripcion.setValue(t.articulo.descripcion),this.salidaxvtaFormGroup.controls.cantidadorden.setValue(t.venta_cantidad),this.salidaxvtaFormGroup.controls.articuloid.setValue(t.articuloId)}get descripNoValido(){var t,a;return(null===(t=this.salidaxvtaFormGroup.get("descripcion"))||void 0===t?void 0:t.invalid)&&(null===(a=this.salidaxvtaFormGroup.get("descripcion"))||void 0===a?void 0:a.touched)}get cantidadNoValido(){var t,a;return(null===(t=this.salidaxvtaFormGroup.get("cantidadorden"))||void 0===t?void 0:t.invalid)&&(null===(a=this.salidaxvtaFormGroup.get("cantidadorden"))||void 0===a?void 0:a.touched)}get cantidadrealNoValido(){var t,a;return(null===(t=this.salidaxvtaFormGroup.get("cantidadreal"))||void 0===t?void 0:t.invalid)&&(null===(a=this.salidaxvtaFormGroup.get("cantidadreal"))||void 0===a?void 0:a.touched)}get idNoValido(){var t,a;return(null===(t=this.salidaxvtaFormGroup.get("articuloid"))||void 0===t?void 0:t.invalid)&&(null===(a=this.salidaxvtaFormGroup.get("articuloid"))||void 0===a?void 0:a.touched)}recibirMaterial(){if(this.salidaxvtaFormGroup.invalid)return Object.values(this.salidaxvtaFormGroup.controls).forEach(t=>{t instanceof i.cw?Object.values(t.controls).forEach(a=>a.markAsTouched()):t.markAsTouched()});this.conexion2.Grabar_Salidaxvta(this.salidaxvtaFormGroup.value).subscribe(t=>{t.ok&&(console.log("cambiado"),this.activeModal.close()),this.salidaxvtaFormGroup.reset()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.Kz),e.Y36(i.qu),e.Y36(m.gz),e.Y36(g.f),e.Y36(h),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-salidaxventa"]],inputs:{Nota:"Nota"},decls:55,vars:19,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col-8"],["type","number","placeholder","Item de la nota","formControlName","item",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Nota de venta","formControlName","notaventa",1,"form-control"],["type","text","placeholder","Id del Articulo","formControlName","articuloid",1,"form-control"],["type","text","placeholder","Descripcion","formControlName","descripcion",1,"form-control"],["type","number","placeholder","Cantidad de la Orden","formControlName","cantidadorden",1,"form-control"],["type","number","placeholder","Cantidad real","formControlName","cantidadreal",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-salidaxventa works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h5",1),e._uU(4,"Actualizar Salida Al Almacen por Nota de venta"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.activeModal.dismiss()}),e.TgZ(6,"span",3),e._uU(7,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"form",5),e.TgZ(10,"div"),e._UZ(11,"p"),e.TgZ(12,"div",6),e.TgZ(13,"label",7),e._uU(14,"Item de la nota"),e.qZA(),e.TgZ(15,"div",8),e._UZ(16,"input",9),e.YNc(17,G,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",7),e._uU(20,"Nota de venta"),e.qZA(),e.TgZ(21,"div",8),e._UZ(22,"input",11),e.YNc(23,S,2,0,"small",10),e.qZA(),e.qZA(),e._UZ(24,"p"),e.TgZ(25,"div",6),e.TgZ(26,"label",7),e._uU(27,"Id Articulo"),e.qZA(),e.TgZ(28,"div",8),e._UZ(29,"input",12),e.YNc(30,Y,2,0,"small",10),e.qZA(),e.qZA(),e._UZ(31,"p"),e.TgZ(32,"div",6),e.TgZ(33,"label",7),e._uU(34,"Descripcion"),e.qZA(),e.TgZ(35,"div",8),e._UZ(36,"input",13),e.YNc(37,E,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(38,"div",6),e.TgZ(39,"label",7),e._uU(40,"Cantidad en la Orden"),e.qZA(),e.TgZ(41,"div",8),e._UZ(42,"input",14),e.YNc(43,V,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(44,"div",6),e.TgZ(45,"label",7),e._uU(46,"Cantidad Real recibida"),e.qZA(),e.TgZ(47,"div",8),e._UZ(48,"input",15),e.YNc(49,j,2,0,"small",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",16),e.TgZ(51,"button",17),e.NdJ("click",function(){return a.activeModal.dismiss()}),e._uU(52,"Close"),e.qZA(),e.TgZ(53,"button",18),e.NdJ("click",function(){return a.recibirMaterial()}),e._uU(54,"Recibir Articulos"),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.salidaxvtaFormGroup),e.xp6(7),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(6),e.ekj("is-invalid",a.idNoValido),e.xp6(1),e.Q6J("ngIf",a.idNoValido),e.xp6(6),e.ekj("is-invalid",a.descripNoValido),e.xp6(1),e.Q6J("ngIf",a.descripNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadrealNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadrealNoValido))},directives:[i._Y,i.JL,i.sg,i.wV,i.Fj,i.JJ,i.u,c.O5],styles:[""]}),o})();var D=p(3565);let z=(()=>{class o{transform(t,a){return a?t.filter(n=>this.filterBy(n,a)):t}filterBy(t,a){return Object.keys(t).reduce((l,s)=>this.reduceKeys(l,s,t),"").toLocaleLowerCase().indexOf(a.toLocaleLowerCase())>-1}reduceKeys(t,a,n){return this.isProp(a)&&(t=`${t}$${n[a]}`),t}isProp(t){return t.includes("ventaId")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"notasventaFilter",type:o,pure:!0}),o})();function Q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",12),e.TgZ(12,"img",13),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return[s.idlinea=l.id,s.openModalUpdateTipomovimientos(l)]}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.ventaId),e.xp6(2),e.Oqu(t.articuloId),e.xp6(2),e.Oqu(t.articulo.descripcion),e.xp6(2),e.Oqu(t.venta_cantidad)}}let $=(()=>{class o{constructor(t,a,n,l,s){this.fb=t,this.conexion=n,this.notasventasService=l,this.modalService=s,this.Ordenes=[],this.notasventa=[],this.notasventadetalle=[],this.Articuloslincatego=[],this.Lineas=[],this.Categorias=[],this.seleccionado="Elije una linea",this.idlinea=0,this.search="",this.valorradio=10,this.formsalidaxventa=this.fb.group({factor:[null,[i.kI.required]],flexRadioDefault:[null],bandera:[null,[i.kI.required]]}),this.modal=this.fb.group({descripcion2:[null,[i.kI.required]]}),this.crearFormulario(),this.cargarDataAlFormulario()}Lista_Notasventas(){this.notasventasService.Obtener_Ventas().subscribe(t=>{this.notasventa=t.data,console.log("esta es el array de ventas del modal",t)})}Lista_Notasventasdetalle(){this.notasventasService.Obtener_Ventasdetalle().subscribe(t=>{this.notasventadetalle=t.data,console.log("esta es el array de ventas con el detallle",t)})}ngOnInit(){this.Lista_Notasventas(),this.Lista_Notasventasdetalle()}get factorNoValido(){var t,a;return(null===(t=this.formsalidaxventa.get("factor"))||void 0===t?void 0:t.invalid)&&(null===(a=this.formsalidaxventa.get("factor"))||void 0===a?void 0:a.touched)}get banderaNoValido(){var t,a;return(null===(t=this.formsalidaxventa.get("bandera"))||void 0===t?void 0:t.invalid)&&(null===(a=this.formsalidaxventa.get("bandera"))||void 0===a?void 0:a.touched)}openModalUpdateTipomovimientos(t){var a=this;console.log("Estos son los datos que viene del articulo",t);const n=this.modalService.open(w,{size:"lg"});n.componentInstance.Nota=t,n.result.then((0,d.Z)(function*(){yield a.Lista_Notasventasdetalle()})),this.Lista_Notasventasdetalle()}crearFormulario(){this.formsalidaxventa=this.fb.group({factor:[null,[i.kI.required]],flexRadioDefault:[null],bandera:[null,[i.kI.required,i.kI.min(1)]]})}cargarDataAlFormulario(){this.formsalidaxventa.reset({factor:"",flexRadioDefault:[null],bandera:[null,[i.kI.required,i.kI.min(1)]]})}guardar(){console.log("Probando que entra   a funciones")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.gz),e.Y36(g.f),e.Y36(D.v),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-salidaxventa"]],decls:34,vars:6,consts:[[1,"container","mt-2"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","mt-5","mb-3"],[1,"col-md-12"],["for","ciudad",1,"col-form-label"],["src","/assets/imagenes/buscar.png","width","20px","height","20px"],["type","text","id","searchForm","placeholder","Busca aqui...",1,"form-control","rounded-sm",3,"ngModel","ngModelChange"],[1,"container","mt-3"],[1,"row"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],["src","/assets/imagenes/salidaxvta.png","width","40px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"salidaxventa works!"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0),e.TgZ(4,"form",1),e.NdJ("ngSubmit",function(){return a.guardar()}),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"label",4),e._uU(8,"Buscar Nota de Venta.. "),e._UZ(9,"img",5),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(l){return a.search=l}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e.TgZ(14,"div",3),e.TgZ(15,"table",9),e.TgZ(16,"thead"),e.TgZ(17,"tr"),e.TgZ(18,"th",10),e._uU(19,"Item"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"Nota de venta"),e.qZA(),e.TgZ(22,"th",10),e._uU(23,"Articulo Id"),e.qZA(),e.TgZ(24,"th",10),e._uU(25,"Articulo"),e.qZA(),e.TgZ(26,"th",10),e._uU(27,"Cantidad"),e.qZA(),e.TgZ(28,"th",10),e._uU(29,"Sale Mercancia"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,Q,13,5,"tr",11),e.ALo(32,"notasventaFilter"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(33,"hr")),2&t&&(e.xp6(4),e.Q6J("formGroup",a.formsalidaxventa),e.xp6(7),e.Q6J("ngModel",a.search),e.xp6(20),e.Q6J("ngForOf",e.xi3(32,3,a.notasventadetalle,a.search)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.On,c.sg],pipes:[z],styles:[""]}),o})();function B(o,r){1&o&&(e.TgZ(0,"small",16),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}function R(o,r){1&o&&(e.TgZ(0,"small",16),e._uU(1," Debe de ser numerico "),e.qZA())}function K(o,r){1&o&&(e.TgZ(0,"small",16),e._uU(1," Debe de ser numerico "),e.qZA())}let X=(()=>{class o{constructor(t,a,n,l,s,Z){this.activeModal=t,this.fm=a,this.router=n,this.conexion=l,this.conexion2=s,this.modalService=Z,this.Materiales=[],this.anaquelesFormGroup=this.fm.group({id:[null],pasillo:[null,[i.kI.required]],anaquel:[null,[i.kI.required]],casillero:[null,[i.kI.required]]})}Lista_Ordenestrabajo(){this.conexion.Obtener_Ordenestrabajo().subscribe(t=>{this.Materiales=t.data,console.log("esta es el array",t)})}ngOnInit(){console.log("Estas son las lineas",this.Nota),this.editarAnaquel(this.Nota),this.Lista_Ordenestrabajo()}editarAnaquel(t){this.anaquelesFormGroup.controls.id.setValue(t.id),this.anaquelesFormGroup.controls.pasillo.setValue(t.almacen_pasillo),this.anaquelesFormGroup.controls.anaquel.setValue(t.almacen_anaquel),this.anaquelesFormGroup.controls.casillero.setValue(t.almacen_casillero)}get descripNoValido(){var t,a;return(null===(t=this.anaquelesFormGroup.get("pasillo"))||void 0===t?void 0:t.invalid)&&(null===(a=this.anaquelesFormGroup.get("pasillo"))||void 0===a?void 0:a.touched)}get cantidadNoValido(){var t,a;return(null===(t=this.anaquelesFormGroup.get("anaquel"))||void 0===t?void 0:t.invalid)&&(null===(a=this.anaquelesFormGroup.get("anaquel"))||void 0===a?void 0:a.touched)}get cantidadrealNoValido(){var t,a;return(null===(t=this.anaquelesFormGroup.get("casillero"))||void 0===t?void 0:t.invalid)&&(null===(a=this.anaquelesFormGroup.get("casillero"))||void 0===a?void 0:a.touched)}actualiza_Anaquel(){if(this.anaquelesFormGroup.invalid)return Object.values(this.anaquelesFormGroup.controls).forEach(t=>{t instanceof i.cw?Object.values(t.controls).forEach(a=>a.markAsTouched()):t.markAsTouched()});this.conexion2.Actualiza_Anaqueles(this.anaquelesFormGroup.value).subscribe(t=>{t.ok?(console.log("cambiado si actualiza los anaquels"),this.activeModal.close(),this.anaquelesFormGroup.reset()):console.log("no paso por actualizar los anaqueles")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.Kz),e.Y36(i.qu),e.Y36(m.gz),e.Y36(g.f),e.Y36(h),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-anaqueles"]],inputs:{Nota:"Nota"},decls:36,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col-8"],["type","text","placeholder","Descripcion","formControlName","pasillo",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Cantidad de la Orden","formControlName","anaquel",1,"form-control"],["type","text","placeholder","Cantidad real","formControlName","casillero",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-anaqueles works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h5",1),e._uU(4,"Actualizar Anaqueles y Casilleros en Almacen"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.activeModal.dismiss()}),e.TgZ(6,"span",3),e._uU(7,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"form",5),e.TgZ(10,"div"),e._UZ(11,"p"),e._UZ(12,"p"),e.TgZ(13,"div",6),e.TgZ(14,"label",7),e._uU(15,"Pasillo"),e.qZA(),e.TgZ(16,"div",8),e._UZ(17,"input",9),e.YNc(18,B,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"label",7),e._uU(21,"Anaquel"),e.qZA(),e.TgZ(22,"div",8),e._UZ(23,"input",11),e.YNc(24,R,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(25,"div",6),e.TgZ(26,"label",7),e._uU(27,"Casillero"),e.qZA(),e.TgZ(28,"div",8),e._UZ(29,"input",12),e.YNc(30,K,2,0,"small",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",13),e.TgZ(32,"button",14),e.NdJ("click",function(){return a.activeModal.dismiss()}),e._uU(33,"Close"),e.qZA(),e.TgZ(34,"button",15),e.NdJ("click",function(){return a.actualiza_Anaquel()}),e._uU(35,"Acomodar en Anaquel"),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.anaquelesFormGroup),e.xp6(8),e.ekj("is-invalid",a.descripNoValido),e.xp6(1),e.Q6J("ngIf",a.descripNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadNoValido),e.xp6(5),e.ekj("is-invalid",a.cantidadrealNoValido),e.xp6(1),e.Q6J("ngIf",a.cantidadrealNoValido))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,c.O5],styles:[""]}),o})();var A=p(5772);let q=(()=>{class o{transform(t,a){return a?t.filter(n=>this.filterBy(n,a)):t}filterBy(t,a){return Object.keys(t).reduce((l,s)=>this.reduceKeys(l,s,t),"").toLocaleLowerCase().indexOf(a.toLocaleLowerCase())>-1}reduceKeys(t,a,n){return this.isProp(a)&&(t=`${t}$${n[a]}`),t}isProp(t){return t.includes("id")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"almacenFilter",type:o,pure:!0}),o})();function H(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",10),e.TgZ(18,"img",11),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return[s.idlinea=l.id,s.openModalUpdateAnaqueles(l)]}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.almacen_pasillo),e.xp6(2),e.Oqu(t.almacen_anaquel),e.xp6(2),e.Oqu(t.almacen_casillero),e.xp6(2),e.Oqu(t.articulo.clave),e.xp6(2),e.Oqu(t.articulo.descripcion),e.xp6(2),e.Oqu(t.almacen_invini),e.xp6(2),e.Oqu(t.almacen_invteorico)}}let W=(()=>{class o{constructor(t,a,n,l,s){this.fb=t,this.conexion=n,this.conexion3=l,this.modalService=s,this.Almacen=[],this.Articuloslincatego=[],this.Lineas=[],this.Categorias=[],this.seleccionado="Elije una linea",this.idlinea=0,this.search="",this.forma=this.fb.group({}),this.modal=this.fb.group({pasillo:[null,[i.kI.required]],anaquel:[null,[i.kI.required]],casillero:[null,[i.kI.required]]}),this.crearFormulario(),this.cargarDataAlFormulario()}obtenerAlmacen(){var t=this;return(0,d.Z)(function*(){t.Almacen=yield t.conexion.obtenerListadoalmacen(),console.log(t.Almacen)})()}ngOnInit(){this.obtenerAlmacen()}get claveNoValido(){var t,a;return(null===(t=this.forma.get("clave"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("clave"))||void 0===a?void 0:a.touched)}get descripNoValido(){var t,a;return(null===(t=this.forma.get("descripcion"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("descripcion"))||void 0===a?void 0:a.touched)}openModalUpdateAnaqueles(t){var a=this;console.log("Estos son los datos que viene del Alamacen",t);const n=this.modalService.open(X,{size:"lg"});n.componentInstance.Nota=t,n.result.then((0,d.Z)(function*(){yield a.obtenerAlmacen()})),this.obtenerAlmacen()}crearFormulario(){this.forma=this.fb.group({})}cargarDataAlFormulario(){this.forma.reset({})}guardar(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.gz),e.Y36(h),e.Y36(A.g),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-listadoalmacen"]],decls:44,vars:10,consts:[[1,"text-center","mt-2"],[1,"row","mt-5","mb-3"],[1,"col-md-12"],["for","ciudad",1,"col-form-label"],["type","text","id","searchForm","placeholder","Busca aqui...",1,"form-control","rounded-sm",3,"ngModel","ngModelChange"],[1,"container","mt-3"],[1,"row"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],["src","/assets/imagenes/LAPIZ.png","width","20px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"listadoalmacen works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h2"),e._uU(4,"Listado de Articulos de Almacen"),e.qZA(),e.qZA(),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"label",3),e._uU(8,"Buscar Articulo.."),e.qZA(),e.qZA(),e.TgZ(9,"div",2),e.TgZ(10,"input",4),e.NdJ("ngModelChange",function(l){return a.search=l}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"div",6),e.TgZ(13,"div",2),e.TgZ(14,"table",7),e.TgZ(15,"thead"),e.TgZ(16,"tr"),e.TgZ(17,"th",8),e._uU(18,"Id"),e.qZA(),e.TgZ(19,"th",8),e._uU(20,"Pasillo"),e.qZA(),e.TgZ(21,"th",8),e._uU(22,"Anaquel"),e.qZA(),e.TgZ(23,"th",8),e._uU(24,"Casillero"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"Clave"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"Descripcion"),e.qZA(),e.TgZ(29,"th",8),e._uU(30,"Inv Inicial"),e.qZA(),e.TgZ(31,"th",8),e._uU(32,"Stock"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"tbody"),e.YNc(34,H,19,8,"tr",9),e.ALo(35,"almacenFilter"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(36,"hr"),e.TgZ(37,"pre"),e._uU(38),e._UZ(39,"br"),e._uU(40),e.qZA(),e.TgZ(41,"pre"),e._uU(42),e.ALo(43,"json"),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngModel",a.search),e.xp6(24),e.Q6J("ngForOf",e.xi3(35,5,a.Almacen,a.search)),e.xp6(4),e.hij("      Estado del formulario: ",a.forma.valid,"\n      "),e.xp6(2),e.hij("\n      Status: ",a.forma.status,"\n    "),e.xp6(2),e.hij("    \n      ",e.lcZ(43,8,a.forma.value),"\n    \n    "))},directives:[i.Fj,i.JJ,i.On,c.sg],pipes:[q,c.Ts],styles:[""]}),o})();function ee(o,r){1&o&&(e.TgZ(0,"small",14),e._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),e.qZA())}let te=(()=>{class o{constructor(t,a,n,l,s,Z){this.activeModal=t,this.fm=a,this.router=n,this.conexion=l,this.conexion2=s,this.modalService=Z,this.Materiales=[],this.cierresFormGroup=this.fm.group({id:[null],invfisico:[null,[i.kI.required]]})}ngOnInit(){console.log("Estas son las lineas",this.Nota),this.editarAnaquel(this.Nota)}editarAnaquel(t){this.cierresFormGroup.controls.id.setValue(t.id),this.cierresFormGroup.controls.invfisico.setValue(t.almacen_invfisico)}get descripNoValido(){var t,a;return(null===(t=this.cierresFormGroup.get("invfisico"))||void 0===t?void 0:t.invalid)&&(null===(a=this.cierresFormGroup.get("invfisico"))||void 0===a?void 0:a.touched)}actualiza_Anaquel(){if(this.cierresFormGroup.invalid)return Object.values(this.cierresFormGroup.controls).forEach(t=>{t instanceof i.cw?Object.values(t.controls).forEach(a=>a.markAsTouched()):t.markAsTouched()});this.conexion2.Actualiza_Invfisicoxcierre(this.cierresFormGroup.value).subscribe(t=>{t.ok?(console.log("cambiado si actualiza los anaquels"),this.activeModal.close(),this.cierresFormGroup.reset()):console.log("no paso por actualizar los anaqueles")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.Kz),e.Y36(i.qu),e.Y36(m.gz),e.Y36(g.f),e.Y36(h),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-cierres"]],inputs:{Nota:"Nota"},decls:24,vars:4,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col-8"],["type","text","placeholder","Inventario Fisico","formControlName","invfisico",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-cierres works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h5",1),e._uU(4,"ActualizarInventario Fisico para el cierre"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.activeModal.dismiss()}),e.TgZ(6,"span",3),e._uU(7,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"form",5),e.TgZ(10,"div"),e._UZ(11,"p"),e._UZ(12,"p"),e.TgZ(13,"div",6),e.TgZ(14,"label",7),e._uU(15,"Inventario Fisico"),e.qZA(),e.TgZ(16,"div",8),e._UZ(17,"input",9),e.YNc(18,ee,2,0,"small",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",11),e.TgZ(20,"button",12),e.NdJ("click",function(){return a.activeModal.dismiss()}),e._uU(21,"Close"),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return a.actualiza_Anaquel()}),e._uU(23,"Ajustar inventario fisico"),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.cierresFormGroup),e.xp6(8),e.ekj("is-invalid",a.descripNoValido),e.xp6(1),e.Q6J("ngIf",a.descripNoValido))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,c.O5],styles:[""]}),o})();function ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td",11),e.TgZ(20,"img",12),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw();return[s.idlinea=l.id,s.openModalUpdateAnaqueles(l)]}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.almacen_pasillo),e.xp6(2),e.Oqu(t.almacen_anaquel),e.xp6(2),e.Oqu(t.almacen_casillero),e.xp6(2),e.Oqu(t.articulo.clave),e.xp6(2),e.Oqu(t.articulo.descripcion),e.xp6(2),e.Oqu(t.almacen_invini),e.xp6(2),e.Oqu(t.almacen_invteorico),e.xp6(2),e.Oqu(t.almacen_invfisico)}}let oe=(()=>{class o{constructor(t,a,n,l,s){this.fb=t,this.conexion=n,this.conexion3=l,this.modalService=s,this.Almacen=[],this.Articuloslincatego=[],this.Lineas=[],this.Categorias=[],this.seleccionado="Elije una linea",this.idlinea=0,this.search="",this.forma=this.fb.group({}),this.modal=this.fb.group({pasillo:[null,[i.kI.required]],anaquel:[null,[i.kI.required]],casillero:[null,[i.kI.required]]}),this.crearFormulario(),this.cargarDataAlFormulario()}obtenerAlmacen(){var t=this;return(0,d.Z)(function*(){t.Almacen=yield t.conexion.obtenerListadoalmacen(),console.log(t.Almacen)})()}ngOnInit(){this.obtenerAlmacen()}get claveNoValido(){var t,a;return(null===(t=this.forma.get("clave"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("clave"))||void 0===a?void 0:a.touched)}get descripNoValido(){var t,a;return(null===(t=this.forma.get("descripcion"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("descripcion"))||void 0===a?void 0:a.touched)}openModalUpdateAnaqueles(t){var a=this;console.log("Estos son los datos que viene del Alamacen",t);const n=this.modalService.open(te,{size:"lg"});n.componentInstance.Nota=t,n.result.then((0,d.Z)(function*(){yield a.obtenerAlmacen()})),this.obtenerAlmacen()}crearFormulario(){this.forma=this.fb.group({})}cargarDataAlFormulario(){this.forma.reset({})}Cerrar(){this.forma.valid&&(console.log(this.forma.value),this.conexion.Genera_Cierre(this.forma.value).subscribe(t=>{console.log(t),this.obtenerAlmacen()}))}Inventarios(){this.forma.valid&&(console.log(this.forma.value),this.conexion.Actualiza_inventarios().subscribe(t=>{console.log(t),this.obtenerAlmacen()}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.gz),e.Y36(h),e.Y36(A.g),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-cierres"]],decls:48,vars:10,consts:[[1,"text-center","mt-2"],[1,"row","mt-5","mb-3"],[1,"col-md-12"],["for","ciudad",1,"col-form-label"],["type","text","id","searchForm","placeholder","Busca aqui...",1,"form-control","rounded-sm",3,"ngModel","ngModelChange"],[1,"container","mt-3"],[1,"row"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"text-center"],["src","/assets/imagenes/LAPIZ.png","width","20px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"cierres works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h2"),e._uU(4,"Listado de Articulos de Almacen"),e.qZA(),e.qZA(),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"label",3),e._uU(8,"Buscar Articulo por Id.."),e.qZA(),e.qZA(),e.TgZ(9,"div",2),e.TgZ(10,"input",4),e.NdJ("ngModelChange",function(l){return a.search=l}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"div",6),e.TgZ(13,"div",2),e.TgZ(14,"table",7),e.TgZ(15,"thead"),e.TgZ(16,"tr"),e.TgZ(17,"th",8),e._uU(18,"Id"),e.qZA(),e.TgZ(19,"th",8),e._uU(20,"Pasillo"),e.qZA(),e.TgZ(21,"th",8),e._uU(22,"Anaquel"),e.qZA(),e.TgZ(23,"th",8),e._uU(24,"Casillero"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"Clave"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"Descripcion"),e.qZA(),e.TgZ(29,"th",8),e._uU(30,"Inv Inicial"),e.qZA(),e.TgZ(31,"th",8),e._uU(32,"Stock"),e.qZA(),e.TgZ(33,"th",8),e._uU(34,"Inventario Fisico"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"tbody"),e.YNc(36,ae,21,9,"tr",9),e.ALo(37,"almacenFilter"),e.qZA(),e.qZA(),e.TgZ(38,"button",10),e.NdJ("click",function(){return[a.Cerrar()]}),e._uU(39,"Activar Cierre"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(40,"hr"),e.TgZ(41,"pre"),e._uU(42),e._UZ(43,"br"),e._uU(44),e.qZA(),e.TgZ(45,"pre"),e._uU(46),e.ALo(47,"json"),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngModel",a.search),e.xp6(26),e.Q6J("ngForOf",e.xi3(37,5,a.Almacen,a.search)),e.xp6(6),e.hij("      Estado del formulario: ",a.forma.valid,"\n      "),e.xp6(2),e.hij("\n      Status: ",a.forma.status,"\n    "),e.xp6(2),e.hij("    \n      ",e.lcZ(47,8,a.forma.value),"\n    \n    "))},directives:[i.Fj,i.JJ,i.On,c.sg],pipes:[q,c.Ts],styles:[""]}),o})(),ie=(()=>{class o{transform(t,a){return a?t.filter(n=>this.filterBy(n,a)):t}filterBy(t,a){return Object.keys(t).reduce((l,s)=>this.reduceKeys(l,s,t),"").toLocaleLowerCase().indexOf(a.toLocaleLowerCase())>-1}reduceKeys(t,a,n){return this.isProp(a)&&(t=`${t}$${n[a]}`),t}isProp(t){return t.includes("movimiento_Numdocumento")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"entradasalAlmacen",type:o,pure:!0}),o})();function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",21),e.TgZ(17,"img",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return[e.oxw().idlinea=l.id]}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.articuloId),e.xp6(2),e.Oqu(t.articulo.descripcion),e.xp6(2),e.Oqu(t.movimiento_cantidad),e.xp6(2),e.Oqu(e.xi3(11,7,t.movimiento_fecha,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.tipomovimiento.tipomov_clave),e.xp6(2),e.Oqu(t.movimiento_Numdocumento)}}function le(o,r){if(1&o&&(e.TgZ(0,"option",7),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.articulo.descripcion," ")}}function se(o,r){1&o&&(e.TgZ(0,"small",21),e._uU(1," Ingrese un valor numerico "),e.qZA())}function de(o,r){if(1&o&&(e.TgZ(0,"div",1),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"table",17),e.TgZ(4,"thead"),e.TgZ(5,"tr"),e.TgZ(6,"th",18),e._uU(7,"Id"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Descripcion"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Precio Base"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"tbody"),e.TgZ(13,"tr"),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(15),e.Oqu(t.Plan1.id),e.xp6(2),e.Oqu(t.Plan1.articulo.descripcion),e.xp6(2),e.Oqu(e.lcZ(20,3,t.Plan1.articulo.precio))}}function ce(o,r){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"currency"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"currency"),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.plan_actividad),e.xp6(2),e.Oqu(t.plan_hhombre),e.xp6(2),e.Oqu(e.lcZ(9,8,t.departamento.hhombre_precio)),e.xp6(3),e.Oqu(t.materiale.material_desripcion),e.xp6(2),e.Oqu(t.material_cantidad),e.xp6(2),e.Oqu(e.lcZ(16,10,t.materiale.material_precioactual)),e.xp6(3),e.Oqu(e.lcZ(19,12,t.material_cantidad*t.materiale.material_precioactual+t.departamento.hhombre_precio*t.plan_hhombre))}}const ue=[{path:"pedidos",component:F},{path:"entraxmanufactura",component:J},{path:"salidaxventa",component:$},{path:"listado-almacen",component:W},{path:"cierres-almacenpt",component:oe},{path:"entradas-salidas",component:(()=>{class o{constructor(t,a,n,l){this.fb=t,this.router=a,this.conexion=n,this.modalService=l,this.Movimientos=[],this.Entradasalida=[],this.idlinea=0,this.bandera=!1,this.mifecha=new Date,this.mifecha2=new Date,this.search="",this.forma=this.fb.group({clave:[null,[i.kI.required]]}),this.modal=this.fb.group({calendario:[null,[i.kI.required]],calendario2:[null,[i.kI.required]]}),this.crearFormulario(),this.cargarDataAlFormulario()}Lista_Movimientosalmacen(){var t=this;return(0,d.Z)(function*(){t.Movimientos=yield t.conexion.obtenerAlmcenmovimientos(),console.log("este es el arreglo de movimientos",t.Movimientos)})()}Lista_Entradasdesde(){var t=this;return(0,d.Z)(function*(){t.Movimientos=yield t.conexion.ObtenerEntradasdesde(t.mifecha,t.mifecha2),console.log("este es el arreglo de movimientosentradasaalida",t.Movimientos),console.log("Esta es la fecha que estoy mandando",t.mifecha)})()}Lista_Salidasdesde(){var t=this;return(0,d.Z)(function*(){t.Movimientos=yield t.conexion.ObtenerSalidasdesde(t.mifecha,t.mifecha2),console.log("este es el arreglo de movimientos",t.Movimientos)})()}ngOnInit(){this.Lista_Movimientosalmacen(),this.Lista_Entradasdesde(),this.Lista_Salidasdesde(),console.log("este es mi fecha",this.mifecha)}get descripNoValido(){var t,a;return(null===(t=this.forma.get("descripcion"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("descripcion"))||void 0===a?void 0:a.touched)}get precioNoValido(){var t,a;return(null===(t=this.forma.get("preciohh"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("preciohh"))||void 0===a?void 0:a.touched)}crearFormulario(){this.forma=this.fb.group({calendario:["",[i.kI.required,i.kI.minLength(5)]],calendario2:["",[i.kI.required]]})}cargarDataAlFormulario(){this.forma.reset({calendario:"",calendario2:""})}habilita(){this.bandera=!0,this.mifecha=this.forma.value.calendario,this.mifecha2=this.forma.value.calendario2,console.log("este el nuevo valor de  mifechaxxxxxxxxx>",this.forma.value.calendario)}entradas_desde(){this.Lista_Entradasdesde()}salidas_desde(){this.Lista_Salidasdesde()}tomafecha(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.gz),e.Y36(h),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-entradas-salidas"]],decls:67,vars:17,consts:[[1,"container","mt-2"],[1,"jumbotron"],["autocomplete","off",3,"formGroup"],[1,"row","mt-2","mb-2"],[1,"col-md-3"],["for","ciudad",1,"col-form-label"],[1,"col-md-6"],["type","date","placeholder","Calendario","formControlName","calendario",3,"change"],["type","date","placeholder","Calendario2","formControlName","calendario2",3,"change"],[2,"display","flex","justify-content","space-between","flex-wrap","wrap"],["type","button",1,"btn","btn-primary","btn-lg",3,"disabled","click"],[1,"row","mt-5","mb-3"],[1,"col-md-12"],["type","text","id","searchForm","placeholder","Busca aqui...",1,"form-control","rounded-sm",3,"ngModel","ngModelChange"],[1,"container","mt-3"],[1,"row"],[1,"table"],["scope","col"],["type","submit",1,"btn","btn-outline-primary","btn-block"],["src","/assets/imagenes/buscar.png","width","20px","height","20px"],[4,"ngFor","ngForOf"],[1,"text-center"],["src","/assets/imagenes/LAPIZ.png","width","20px","data-toggle","modal","data-target","#exampleModal",2,"cursor","pointer",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"entradas-salidas works!"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"form",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e.TgZ(8,"label",5),e._uU(9,"Desde.."),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"input",7),e.NdJ("change",function(){return a.habilita()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"label",5),e._uU(15,"Hasta.."),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"input",8),e.NdJ("change",function(){return a.habilita()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div"),e.TgZ(19,"div",9),e.TgZ(20,"button",10),e.NdJ("click",function(){return[a.entradas_desde()]}),e._uU(21,"Entradas"),e.qZA(),e.TgZ(22,"button",10),e.NdJ("click",function(){return a.salidas_desde()}),e._uU(23,"Salidas"),e.qZA(),e.qZA(),e._UZ(24,"p"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",11),e.TgZ(26,"div",12),e.TgZ(27,"label",5),e._uU(28,"Buscar Numero de Documento.."),e.qZA(),e.qZA(),e.TgZ(29,"div",12),e.TgZ(30,"input",13),e.NdJ("ngModelChange",function(l){return a.search=l}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",14),e.TgZ(32,"div",15),e.TgZ(33,"div",12),e.TgZ(34,"table",16),e.TgZ(35,"thead"),e.TgZ(36,"tr"),e.TgZ(37,"th",17),e._uU(38,"Item"),e.qZA(),e.TgZ(39,"th",17),e._uU(40,"Id Articulo"),e.qZA(),e.TgZ(41,"th",17),e._uU(42,"Descripcion"),e.qZA(),e.TgZ(43,"th",17),e._uU(44,"Cantidad"),e.qZA(),e.TgZ(45,"th",17),e._uU(46,"Fecha de Mov"),e.qZA(),e.TgZ(47,"th",17),e._uU(48,"Movimiento"),e.qZA(),e.TgZ(49,"th",17),e._uU(50,"Num Documento"),e.qZA(),e.TgZ(51,"th",17),e._uU(52,"Editar"),e.qZA(),e.TgZ(53,"th"),e.TgZ(54,"button",18),e._UZ(55,"img",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"tbody"),e.YNc(57,ne,18,10,"tr",20),e.ALo(58,"entradasalAlmacen"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(59,"hr"),e.TgZ(60,"pre"),e._uU(61),e._UZ(62,"br"),e._uU(63),e.qZA(),e.TgZ(64,"pre"),e._uU(65),e.ALo(66,"json"),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",a.forma),e.xp6(6),e.ekj("is-invalid",a.descripNoValido),e.xp6(6),e.ekj("is-invalid",a.descripNoValido),e.xp6(3),e.Q6J("disabled",!a.forma.valid),e.xp6(2),e.Q6J("disabled",!a.forma.valid),e.xp6(8),e.Q6J("ngModel",a.search),e.xp6(27),e.Q6J("ngForOf",e.xi3(58,12,a.Movimientos,a.search)),e.xp6(4),e.hij("    Estado del formulario: ",a.forma.valid,"\n    "),e.xp6(2),e.hij("\n    Status: ",a.forma.status,"\n  "),e.xp6(2),e.hij("  \n    ",e.lcZ(66,15,a.forma.value),"\n  \n  "))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.On,c.sg],pipes:[ie,c.Ts,c.uU],styles:[""]}),o})()},{path:"costeo-articulos",component:(()=>{class o{constructor(t,a,n,l,s,Z){this.fb=t,this.conexion=n,this.conexion2=l,this.conexion3=s,this.modalService=Z,this.Almacen=[],this.Plandetalle=[],this.Plandetalle2=[],this.Planes=[],this.Plan1=void 0,this.Articulos=[],this.seleccionado="Elije una linea",this.idlinea=0,this.planid=0,this.subtotal=0,this.gastosexterno=0,this.search="",this.forma=this.fb.group({}),this.modal=this.fb.group({selectplan:[null,[i.kI.required]],gastoexterno:[0,[i.kI.required]],casillero:[null,[i.kI.required]]}),this.crearFormulario(),this.cargarDataAlFormulario()}obtenerPlandetalle(){var t=this;return(0,d.Z)(function*(){t.planid=t.forma.value.selectplan,t.Plandetalle=yield t.conexion3.obtenerPlanDetalle(t.planid),console.log("plandetalle--------------------------\x3e",t.Plandetalle)})()}Lista_Notasventas(t){t=this.forma.value.selectplan,this.subtotal=0,this.gastosexterno=this.forma.value.gastoexterno,this.conexion3.Obtener_Plandetalle2(t).subscribe(a=>{this.Plandetalle2=a.data,console.log("este el plan detalle numero2",this.Plandetalle2),a.data.forEach(n=>{this.subtotal+=n.material_cantidad*n.materiale.material_precioactual+n.departamento.hhombre_precio*n.plan_hhombre})})}obtenerPlanes(){var t=this;return(0,d.Z)(function*(){t.Planes=yield t.conexion3.obtenerPlanes(),console.log(t.Almacen)})()}obtenerPlanxid(){var t=this;return(0,d.Z)(function*(){t.planid=t.forma.value.selectplan,t.Plan1=yield t.conexion3.obtenerPlaconid(t.planid),console.log("este el array deplan filtrado",t.Plan1)})()}Lista_Articulos(){this.conexion2.Obtener_Articuloslincatego().subscribe(t=>{this.Articulos=t.data,console.log("esta es el array",t)})}ngOnInit(){console.log("el valor inicial del Plan1 es<<<<",this.Plan1),this.obtenerPlandetalle(),this.obtenerPlanes(),this.Lista_Articulos(),this.obtenerPlanxid(),this.Lista_Notasventas(this.planid)}get gastoNoValido(){var t,a;return(null===(t=this.forma.get("gastoexterno"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("gastoexterno"))||void 0===a?void 0:a.touched)}get descripNoValido(){var t,a;return(null===(t=this.forma.get("descripcion"))||void 0===t?void 0:t.invalid)&&(null===(a=this.forma.get("descripcion"))||void 0===a?void 0:a.touched)}tomaplanid(){this.planid=this.forma.value.selectplan,console.log("este es el valor del comobo",this.planid)}crearFormulario(){this.forma=this.fb.group({selectplan:[null,[i.kI.required]],gastoexterno:[0,[i.kI.required,i.kI.maxLength(1)]]})}cargarDataAlFormulario(){this.forma.reset({selectplan:[null,[i.kI.required]],gastoexterno:[0,[i.kI.required,i.kI.maxLength(1)]]})}hacealago(){console.log("gabriel")}guardar(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.gz),e.Y36(h),e.Y36(f.N),e.Y36(g.f),e.Y36(u.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-costeo-articulos"]],decls:98,vars:23,consts:[[1,"text-center","mt-2"],[1,"container","mt-3"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col-8"],["formControlName","selectplan",1,"select-css",3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","0","formControlName","gastoexterno",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"btn","btn-outline-primary","btn-block",3,"disabled","click"],["src","/assets/imagenes/precios.png","width","20px","height","40px"],["class","container mt-3",4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col-md-12"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"negrita"],[1,"text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"costeo-articulos works!"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"h2"),e._uU(4,"Costeo de Articulos"),e.qZA(),e.qZA(),e.TgZ(5,"div",1),e.TgZ(6,"form",2),e.NdJ("ngSubmit",function(){return a.guardar()}),e.TgZ(7,"div",3),e.TgZ(8,"label",4),e._uU(9,"Plan para costear"),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"select",6),e.NdJ("change",function(){return[a.obtenerPlanxid()]}),e.TgZ(12,"option",7),e._uU(13,"Escoge una Opcion"),e.qZA(),e.YNc(14,le,2,2,"option",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",3),e.TgZ(16,"label",4),e._uU(17,"Porcentaje GE"),e.qZA(),e.TgZ(18,"div",5),e._UZ(19,"input",9),e.YNc(20,se,2,0,"small",10),e.qZA(),e.qZA(),e.TgZ(21,"button",11),e.NdJ("click",function(){return a.Lista_Notasventas(a.planid)}),e._UZ(22,"img",12),e._uU(23," Costear Producto "),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,de,21,5,"div",13),e.TgZ(25,"div",14),e._UZ(26,"hr"),e.TgZ(27,"h3"),e._uU(28,"Desgloce de Precio de Fabricacion"),e.qZA(),e.qZA(),e.TgZ(29,"div",1),e.TgZ(30,"div",15),e.TgZ(31,"div",16),e.TgZ(32,"table",17),e.TgZ(33,"thead"),e.TgZ(34,"tr"),e.TgZ(35,"th",18),e._uU(36,"Id"),e.qZA(),e.TgZ(37,"th",18),e._uU(38,"Actividad"),e.qZA(),e.TgZ(39,"th",18),e._uU(40,"Hhombre"),e.qZA(),e.TgZ(41,"th",18),e._uU(42,"Precio"),e.qZA(),e.TgZ(43,"th",18),e._uU(44,"Material"),e.qZA(),e.TgZ(45,"th",18),e._uU(46,"Cantidad"),e.qZA(),e.TgZ(47,"th",18),e._uU(48,"Precio"),e.qZA(),e.TgZ(49,"th",18),e._uU(50,"Subtotal"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"tbody"),e.YNc(52,ce,20,14,"tr",19),e.TgZ(53,"tr"),e._UZ(54,"td"),e._UZ(55,"td"),e._UZ(56,"td"),e._UZ(57,"td"),e._UZ(58,"td"),e._UZ(59,"td"),e.TgZ(60,"td",20),e._uU(61,"Subtotal"),e.qZA(),e.TgZ(62,"td",20),e._uU(63),e.ALo(64,"currency"),e.qZA(),e.qZA(),e._UZ(65,"tr"),e.TgZ(66,"tr"),e._UZ(67,"td"),e._UZ(68,"td"),e._UZ(69,"td"),e._UZ(70,"td"),e._UZ(71,"td"),e._UZ(72,"td"),e.TgZ(73,"td",20),e._uU(74,"Gastos Externos"),e.qZA(),e.TgZ(75,"td",20),e._uU(76),e.ALo(77,"currency"),e.qZA(),e.qZA(),e.TgZ(78,"tr"),e._UZ(79,"td"),e._UZ(80,"td"),e._UZ(81,"td"),e._UZ(82,"td"),e._UZ(83,"td"),e._UZ(84,"td"),e.TgZ(85,"td",20),e._uU(86,"Total"),e.qZA(),e.TgZ(87,"td",20),e._uU(88),e.ALo(89,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(90,"hr"),e.TgZ(91,"pre"),e._uU(92),e._UZ(93,"br"),e._uU(94),e.qZA(),e.TgZ(95,"pre"),e._uU(96),e.ALo(97,"json"),e.qZA()),2&t&&(e.xp6(6),e.Q6J("formGroup",a.forma),e.xp6(6),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",a.Planes),e.xp6(5),e.ekj("is-invalid",a.gastoNoValido),e.xp6(1),e.Q6J("ngIf",a.gastoNoValido),e.xp6(1),e.Q6J("disabled",!a.forma.valid),e.xp6(3),e.Q6J("ngIf",null!=a.Plan1),e.xp6(28),e.Q6J("ngForOf",a.Plandetalle2),e.xp6(11),e.Oqu(e.lcZ(64,15,a.subtotal)),e.xp6(13),e.Oqu(e.lcZ(77,17,a.subtotal*a.gastosexterno/100)),e.xp6(12),e.Oqu(e.lcZ(89,19,a.subtotal+a.subtotal*a.gastosexterno/100)),e.xp6(4),e.hij("      Estado del formulario: ",a.forma.valid,"\n      "),e.xp6(2),e.hij("\n      Status: ",a.forma.status,"\n    "),e.xp6(2),e.hij("\n      ",e.lcZ(97,21,a.forma.value),"\n    \n    "))},directives:[i._Y,i.JL,i.sg,i.EJ,i.JJ,i.u,i.YN,i.Kr,c.sg,i.wV,i.Fj,c.O5],pipes:[c.H9,c.Ts],styles:[".negrita[_ngcontent-%COMP%]{font-weight:bold;color:#818279}"]}),o})()}];let pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,m.Bz,m.Bz.forChild(ue),i.UX,i.u5]]}),o})()}}]);